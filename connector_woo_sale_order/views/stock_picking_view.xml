<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!-- Inherit stock picking view to add connector page-->
    <record id="stock_picking_form_view" model="ir.ui.view">
        <field name="name">stock.picking.form</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form" />
        <field name="arch" type="xml">
            <xpath expr="//form/header/button[@name='button_validate']" position="after">
                <field name="has_done_picking" invisible="1" />
                <button
                    name="export_delivery_status"
                    type="object"
                    class="oe_highlight"
                    attrs="{'invisible': [('state', '!=', 'done')]}"
                    string="Export Delivery Status"
                />
            </xpath>
            <xpath expr="//form/sheet/group/group/field[@name='origin']" position="after">
                <field name="woo_backend_id"/>
            </xpath>
            <xpath expr="//form/sheet/notebook/page[@name='note']" position="after">
                <page
                        string="Woo Connector"
                        name="woo_connector"
                        attrs="{'invisible': [('woo_bind_ids', '=', [])]}"
                        groups="connector.group_connector_manager"
                    >
                        <field name="woo_bind_ids" nolabel="1" readonly="1">
                            <tree
                                string="Woo Sale order status"
                                delete="false"
                                edit="false"
                                create="false"
                            >
                                <field name="backend_id" widget="selection" />
                                <field name="external_id" />
                            </tree>
                            <form
                                string="Woo Sale order status"
                                delete="false"
                                edit="false"
                                create="false"
                            >
                                <group>
                                    <group>
                                        <field name="backend_id" widget="selection" />
                                        <field name="external_id" />
                                    </group>
                                </group>
                            </form>
                        </field>
                    </page>
            </xpath>
        </field>
    </record>
</odoo>
